\chapter{Realisierung}
\section{Modellierung}
Blenderplugin, IFCWallTypes Module die das Raster vorgeben etc.

\section{Wall Detailing}
Als \glqq{}Wall Detailing\grqq{} (sprich das \glqq{}Detailieren von Wänden\grqq{}) wird in dieser Arbeit der Vorgang ein als geometrischer Körper definiertes Wandstück in ein konkretes Mauerwerk zu überführen, bezeichnet.
Innerhalb des IFC Standards werden einige mathematische/geometrische Representationen der sogennanten \textit{IFCWall} unterstützt, um neben einfachen Boxen auch komplexere Formen abbilden zu können.
Beispielsweise ist es möglich in das Modell eines Hauses zunehmend dünner werdende Wandstücke, kurvige Wandstücke oder Wandstücke, welche nur durch ein arbiträres Vieleck beschrieben werden können zu integrieren.
Allerdings ist es für die Fallstudien dieser Arbeit zunächst ausreichend nur Wandstücke, welche als einfacher geometrischer Quader vorliegen, zu beachten.
Das nachfolgende schrittweise Vorgehen weist aufgrund des annähernd gleichen Ergebnisses zwangsläufig Ähnlichkeiten zu dem von Usmanov et al. auf \cite{Usmanov2021}.

\subsection{Konvertieren des IFC zu BREP}
Den ersten Schritt stellt das Extrahieren aller notwendigen Daten aus dem vorliegenden IFC Modell dar.
Für die Fallstudien dieser Arbeit sind sowohl alle Objekte des Typs \textit{IFCWall} als auch die, etwa durch Fenster oder Türen entstehenden, daran angeknüpften Objekte vom Typ \textit{IfcOpeningElement} (siehe \ref{basics:IfcOpeningElement}) von Interesse.
Zusätzlich werden aus den, in den \textit{IfcPropertySets} der Wandstücke hinterlegten Daten, Informationen über das zu verwendende Modul ausgelesen.
Mithilfe der Werkzeuge der in Kapitel \ref{basics} vorgstellten Python Bibliothek \textit{ifcopenshell} (siehe \ref{basics:ifcopenshell}) ist dies intuitiv möglich.
TODO Sätze zum Code, Code TODO kleines Klassendiagram von Wall/WallLayerGroup und Opening und BrickInformation

\subsection{Überprüfen der modellierten Wände}
\subsubsection{Filtern}
Da sich diese Arbeit vorerst ausschließlich mit quaderförmigen Wandstücken beschäftigt, müssen zunächst alle zuvor extrahierten Wandstücke auf diese Eigenschaft geprüft werden.
Somit ist gewährleistet, dass lediglich passende Wandstücke an die nachfolgenden Schritte weitergegeben werden.
TODO Satz zum Code, Code iscubic

\subsubsection{Anwenden des Moduls}
Mit dem zu jedem Wandstück festgelegten Modul, werden in diesem Schritt alle Wandstücke in Schichten mit Höhe der jeweiligen Höhe des Moduls aufgeteilt.

\subsubsection{Kombinieren}
Schau für jede der gefundenen Wände, ob diese mit anderen zu einer Einheit verbunden werden können, wenn ja verbinde sie.
Dies passiert schichtweise.
Schwierigkeiten: Kleine Wand auf großer Wand (x\_offset), Mehrere Layer auf der selben Höhe

\subsubsection{Beziehungen finden}
Durchlaufe alle Wandstücke und schau, ob diese andere berühren.
Dadurch können Ecken, T-Kreuzungen und Kreuzungen gefunden werden.
Schwierigkeiten: Verschiedenste Arten solche Ecken und Kreuzungen zu modellieren 

\subsection{Lösen der Beziehungen}
Je nach gewählten Verband müssen z.B. Ecken (deren Baupläne im vornherein definiert wurden) so angeordnet werden, dass die dazwischenliegenden Wandstücke lückenlos eingefüllt werden können.
Dafür muss ein sogenannter "plan\_offset" für jede Wand und jede Ecke gefunden werden. Dieser gibt an, an welchem Index der Bauplandefinition das Wandstück (von unten) beginnen muss, um insgesamt einen einheitlichen Wandkörper ohne Lücken zu bilden.
Voraussetzung dafür ist natürlich ein passender Eckplan zu dem gewählten Verband. 

Schwierigkeiten: Eckpläne insgesamt, Ecken ragen in die sie bildenden Wände hinein. Diese müssen dementsprechend verkleinert werden.

\subsection{Anwenden der Lösung}
Ablaufen aller Ecken und Wände und einsetzen der Ziegel gemäß den gefundenen Lösungen.

\subsection{Export}
Abhängigkeitsgraph und Ontologie für Regelwerk